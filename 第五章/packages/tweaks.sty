\ProvidesPackage{tweaks}[2021/11/02 v1.0.0 Metropolis tweaks]

\usetheme{metropolis}
\metroset{%
    sectionpage=progressbar, 
    subsectionpage=none
    }
%\useoutertheme{split}% Layout scheme for outer elements: split header and footer

%%%%%%%%%%%%%%%%
% Requirements %
%%%%%%%%%%%%%%%%

\RequirePackage{textpos}

%%%%%%%%%%
% Item %
%%%%%%%%%%

% ---------------------------------------------------------------------------
\setbeamertemplate{itemize items}[circle] % Itemize items: default (triangle), circle, square, ball
\setbeamertemplate{enumerate items}[circle] % Enumerate items: default, circle, square, ball
% ---------------------------------------------------------------------------

%%%%%%%%%%%
% Outline %
%%%%%%%%%%%

% Outline: default, sections numbered, subsections numbered, circle, square, ball, ball unnumbered
\setbeamertemplate{sections/subsections in toc}[default]
\setbeamertemplate{blocks}[rounded][shadow=true] % General blocks:
\setbeamertemplate{part page}[default][colsep=-4bp,rounded=true] % Part page:
 % ---------------------------------------------------------------------------


%%%%%%%%%%
% Colors %
%%%%%%%%%%

\definecolor{DarkBlue}{HTML}{273C75}
\definecolor{BrightOrange}{HTML}{EB811B}
\definecolor{BrightGreen}{HTML}{14B03D}

\renewcommand*{\metropolis@colors@dark}{
    \setbeamercolor{normal text}{%
        fg=white,
        bg=DarkBlue
    }
}

\setbeamercolor{normal text}{fg=black, bg=white}

\setbeamercolor{palette primary}{fg=white, bg=DarkBlue}

\setbeamercolor{alerted text}{fg=BrightOrange}

\setbeamercolor{example text}{fg=BrightGreen}

\setbeamercolor{progress bar}{
    use=alerted text,
    fg=alerted text.fg,
    bg=black!30
}

\setbeamercolor{block title}{bg=DarkBlue!20}

\setbeamercolor{block body}{bg=DarkBlue!10}

\setbeamercolor{structure}{bg=white, fg=DarkBlue}

\setbeamercolor{title in head/foot}{fg=white, bg=DarkBlue}

\setbeamercolor{author in head/foot}{fg=white, bg=DarkBlue} 

\setbeamercolor{date in head/foot}{fg=white,bg=DarkBlue} 

\setbeamercolor{framenumber in head/foot}{fg=white, bg=DarkBlue}

\setbeamercolor{outline in head/foot}{fg=white, bg=DarkBlue} 

\setbeamercolor{subsection in head/foot}{fg=white, bg=DarkBlue} 

%%%%%%%%%
% Title %
%%%%%%%%%

\def\maketitle{%
    \ifbeamer@inframe
        \titlepage
    \else
        {
        \metroset{background=dark}
        \frame[plain, noframenumbering]{\titlepage}
        }
    \fi
}

\newcommand{\titlelogo}[1]{
    \titlegraphic{
        \hfill%
        \includegraphics[height=0.2\textheight]{#1}
    }
}

%%%%%%%%%%
% Frame %
%%%%%%%%%%

\setbeamersize{text margin left=6ex, text margin right=6ex}


%%%%%%%%%%
% Header %
%%%%%%%%%%

\setbeamerfont{frametitle}{size=\normalsize}

\makeatletter
\setlength{\metropolis@frametitle@padding}{1.0ex}
\makeatother

\newcommand{\framelogo}[1]{
    \addtobeamertemplate{frametitle}{}{
        \begin{textblock*}{\paperwidth}(-6.8ex, -\baselineskip-0.2ex)
            \hfill%
            \includegraphics[height=\baselineskip]{#1}
        \end{textblock*}
    }
}


%%%%%%%%%%
% Footer %
%%%%%%%%%%

\setbeamertemplate{footline}{%
    \ifbool{metropolis@standout}{}{%
        \begin{beamercolorbox}[wd=\paperwidth, sep=1.6ex]{footline}%
            \usebeamerfont{page number in head/foot}%
            \usebeamertemplate*{frame footer}%
            \hfill%
            \usebeamertemplate*{frame numbering}
        \end{beamercolorbox}%
        %\hbox{%
  %\begin{beamercolorbox}[wd=.2\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
  %  \usebeamerfont{author in head/foot}\insertshortauthor
  %\end{beamercolorbox}%
  %\begin{beamercolorbox}[wd=.485\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
  %  \usebeamerfont{author in head/foot}\insertshorttitle
  % \end{beamercolorbox}%
  %\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{date in head/foot}%
  %  \usebeamerfont{author in head/foot}\insertshortdate
  %\end{beamercolorbox}%
  % \begin{beamercolorbox}[wd=0.065\paperwidth,ht=2.25ex,dp=1ex,right]{framenumber in head/foot}%
  %  \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
  %\end{beamercolorbox}}
    }
}


%%%%%%%%%%
% Blocks %
%%%%%%%%%%

\makeatletter
\setlength{\metropolis@blockadjust}{0ex}
\renewcommand{\metropolis@strut}{}
\makeatother

\endinput
